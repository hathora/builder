types:
  QuestId: string
  PlayerName: string

  Role:
    - MERLIN
    - PERCIVAL
    - LOYAL_SERVANT
    - MORGANA
    - MORDRED
    - OBERON
    - ASSASSIN
    - MINION
  Vote:
    - PASS
    - FAIL
  QuestStatus:
    - PROPOSING_QUEST
    - VOTING_FOR_PROPOSAL
    - PROPOSAL_REJECTED
    - VOTING_IN_QUEST
    - PASSED
    - FAILED
  GameStatus:
    - NOT_STARTED
    - IN_PROGRESS
    - GOOD_WON
    - EVIL_WON

  RoleInfo:
    role: Role
    isEvil: boolean
    knownRoles: Role[]
    quantity: number
  PlayerAndVote:
    player: PlayerName
    vote?: Vote
  QuestAttempt:
    id: QuestId
    status: QuestStatus
    roundNumber: number
    attemptNumber: number
    leader: PlayerName
    members: PlayerName[]
    proposalVotes: PlayerAndVote[]
    results: PlayerAndVote[]
    numFailures: number
  PlayerState:
    status: GameStatus
    rolesInfo: RoleInfo[]
    creator: PlayerName
    players: PlayerName[]
    role?: Role
    knownPlayers: PlayerName[]
    playersPerQuest: number[]
    quests: QuestAttempt[]
  PlayerData:
    playerName: PlayerName

methods:
  createGame:
  joinGame:
  startGame:
    roleList: Role[]
    playerOrder: PlayerName[]
  proposeQuest:
    questId: QuestId
    proposedMembers: PlayerName[]
  voteForProposal:
    questId: QuestId
    vote: Vote
  voteInQuest:
    questId: QuestId
    vote: Vote

userState: PlayerState
userData: PlayerData
initialize: createGame
