types:
  UserId: string
  QuestId: string
  RoleInfos: RoleInfo[]

  Role:
    - MERLIN
    - PERCIVAL
    - LOYAL_SERVANT
    - MORGANA
    - MORDRED
    - OBERON
    - ASSASSIN
    - MINION
  Vote:
    - PASS
    - FAIL
  QuestStatus:
    - PROPOSING_QUEST
    - VOTING_FOR_PROPOSAL
    - PROPOSAL_REJECTED
    - VOTING_IN_QUEST
    - PASSED
    - FAILED
  GameStatus:
    - NOT_STARTED
    - IN_PROGRESS
    - GOOD_WON
    - EVIL_WON

  RoleInfo:
    role: Role
    isEvil: boolean
    knownRoles: Role[]
    quantity: number
  PlayerAndVote:
    player: UserId
    vote?: Vote
  QuestAttempt:
    id: QuestId
    status: QuestStatus
    roundNumber: number
    attemptNumber: number
    leader: UserId
    members: UserId[]
    proposalVotes: PlayerAndVote[]
    results: PlayerAndVote[]
    numFailures: number
  PlayerState:
    status: GameStatus
    rolesInfo: RoleInfos
    creator: UserId
    players: UserId[]
    role?: Role
    knownPlayers: UserId[]
    playersPerQuest: number[]
    quests: QuestAttempt[]

methods:
  createGame:
  joinGame:
  startGame:
    roleList: Role[]
    playerOrder?: UserId[]
    leader?: UserId
  proposeQuest:
    questId: QuestId
    proposedMembers: UserId[]
  voteForProposal:
    questId: QuestId
    vote: Vote
  voteInQuest:
    questId: QuestId
    vote: Vote

userState: PlayerState
initialize: createGame
